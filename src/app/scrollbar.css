/* Premium gradient scrollbar shared across the app.
   Apply `.scrollable` to custom containers that need consistent styling. */

:root {
  --scrollbar-track-start: #f3e9ff;
  --scrollbar-track-end: #e8ddff;
  --scrollbar-track-alpha: rgba(243, 233, 255, 0.85);
  --scrollbar-thumb-gradient-start: #8a4bff;
  --scrollbar-thumb-gradient-end: #7a3eff;
  --scrollbar-thumb-solid: #7a3eff;
  --scrollbar-thumb-active: #5a29c1;
  --scrollbar-thumb-gloss: rgba(255, 255, 255, 0.35);
  --scrollbar-thumb-glow: rgba(122, 62, 255, 0.35);
  --scrollbar-size: 12px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --scrollbar-track-start: #161325;
    --scrollbar-track-end: #1f1a33;
    --scrollbar-track-alpha: rgba(22, 19, 37, 0.9);
    --scrollbar-thumb-gradient-start: #b27aff;
    --scrollbar-thumb-gradient-end: #8e54ff;
    --scrollbar-thumb-solid: #b27aff;
    --scrollbar-thumb-active: #6f35d8;
    --scrollbar-thumb-gloss: rgba(255, 255, 255, 0.25);
    --scrollbar-thumb-glow: rgba(178, 122, 255, 0.45);
  }
}

body[data-theme="dark"] {
  --scrollbar-track-start: #161325;
  --scrollbar-track-end: #1f1a33;
  --scrollbar-track-alpha: rgba(22, 19, 37, 0.9);
  --scrollbar-thumb-gradient-start: #b27aff;
  --scrollbar-thumb-gradient-end: #8e54ff;
  --scrollbar-thumb-solid: #b27aff;
  --scrollbar-thumb-active: #6f35d8;
  --scrollbar-thumb-gloss: rgba(255, 255, 255, 0.25);
  --scrollbar-thumb-glow: rgba(178, 122, 255, 0.45);
}

html,
body,
.scrollable {
  scrollbar-width: auto;
  scrollbar-color: var(--scrollbar-thumb-solid) var(--scrollbar-track-start);
}

/* Chromium / Safari */
::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
  background-color: transparent;
}

::-webkit-scrollbar-track {
  background: linear-gradient(180deg, var(--scrollbar-track-start), var(--scrollbar-track-end));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.45);
}

::-webkit-scrollbar-thumb {
  border-radius: 999px;
  background-image: linear-gradient(135deg, var(--scrollbar-thumb-gradient-start), var(--scrollbar-thumb-gradient-end));
  box-shadow:
    inset 0 1px 0 var(--scrollbar-thumb-gloss),
    0 2px 8px var(--scrollbar-thumb-glow);
  min-height: 32px;
  border: 2px solid transparent;
  background-clip: padding-box;
  /* Removed transitions and transforms for better compositing performance */
}

::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(135deg, var(--scrollbar-thumb-gradient-start), #9a5fff);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.45),
    0 4px 14px var(--scrollbar-thumb-glow);
  /* Removed transform for better performance */
}

::-webkit-scrollbar-thumb:active {
  background-image: linear-gradient(135deg, var(--scrollbar-thumb-active), var(--scrollbar-thumb-gradient-end));
  box-shadow:
    inset 0 0 0 1px rgba(0, 0, 0, 0.15),
    0 2px 6px rgba(0, 0, 0, 0.35);
  /* Removed transform for better performance */
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Soft fade-in effect when scrolling */
@media (hover: hover) {
  body:not(.scrollbar-static) ::-webkit-scrollbar-thumb {
    opacity: 0.85;
  }

  body:not(.scrollbar-static):hover ::-webkit-scrollbar-thumb {
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {

  ::-webkit-scrollbar-thumb,
  ::-webkit-scrollbar-thumb:hover,
  ::-webkit-scrollbar-thumb:active {
    box-shadow:
      inset 0 1px 0 var(--scrollbar-thumb-gloss),
      0 2px 6px rgba(0, 0, 0, 0.25);
  }
}